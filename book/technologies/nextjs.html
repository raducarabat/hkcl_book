<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Next.js Framework - hkcl book</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">hkcl book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="nextjs-framework"><a class="header" href="#nextjs-framework">Next.js Framework</a></h1>
<p>Next.js serves as the foundation of Hackcontrol, providing the React framework with powerful features for production applications.</p>
<h2 id="nextjs-in-hackcontrol"><a class="header" href="#nextjs-in-hackcontrol">Next.js in Hackcontrol</a></h2>
<h3 id="version--configuration"><a class="header" href="#version--configuration">Version &amp; Configuration</a></h3>
<ul>
<li><strong>Version</strong>: Next.js 15.4.6</li>
<li><strong>Router</strong>: Pages Router (not App Router)</li>
<li><strong>Configuration</strong>: <code>next.config.mjs</code></li>
</ul>
<h3 id="key-features-used"><a class="header" href="#key-features-used">Key Features Used</a></h3>
<h4 id="file-based-routing"><a class="header" href="#file-based-routing">File-Based Routing</a></h4>
<pre><code>src/pages/
├── index.tsx              # / (Landing page)
├── auth/
│   └── index.tsx          # /auth (Sign in page)
├── app/
│   ├── index.tsx          # /app (Dashboard)
│   └── [url].tsx          # /app/[hackathon-url]
└── send/
    └── [url].tsx          # /send/[hackathon-url]
</code></pre>
<h4 id="api-routes"><a class="header" href="#api-routes">API Routes</a></h4>
<pre><code>src/pages/api/
├── auth/
│   └── [...nextauth].ts  # /api/auth/* (NextAuth)
└── trpc/
    └── [trpc].ts         # /api/trpc/* (tRPC handler)
</code></pre>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<h3 id="nextjs-config"><a class="header" href="#nextjs-config">Next.js Config</a></h3>
<pre><code class="language-javascript">// next.config.mjs
!process.env.SKIP_ENV_VALIDATION &amp;&amp; (await import("./src/env/index.mjs"));

const nextConfig = {
  reactStrictMode: true,
  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "avatars.githubusercontent.com",
        port: "",
        pathname: "/u/**",
      },
    ],
  },
};

export default nextConfig;
</code></pre>
<p><strong>Key settings:</strong></p>
<ul>
<li><strong>Environment validation</strong>: Loads and validates env vars at build time</li>
<li><strong>React Strict Mode</strong>: Enabled for development safety</li>
<li><strong>Image optimization</strong>: Configured for GitHub avatars</li>
</ul>
<h3 id="typescript-integration"><a class="header" href="#typescript-integration">TypeScript Integration</a></h3>
<pre><code class="language-json">// tsconfig.json
{
  "compilerOptions": {
    "target": "es5",
    "lib": ["dom", "dom.iterable", "esnext"],
    "strict": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
</code></pre>
<h2 id="app-structure"><a class="header" href="#app-structure">App Structure</a></h2>
<h3 id="root-app-component"><a class="header" href="#root-app-component">Root App Component</a></h3>
<pre><code class="language-typescript">// src/pages/_app.tsx
const App: AppType&lt;{ session: Session | null }&gt; = ({
  Component,
  pageProps: { session, ...pageProps },
  router,
}) =&gt; {
  return (
    &lt;SessionProvider session={session}&gt;
      &lt;DefaultSeo {...nextSeoConfig} /&gt;
      &lt;NextNProgress /&gt;
      &lt;main className="font-sans"&gt;
        &lt;Header /&gt;
        &lt;Show routerKey={router.route}&gt;
          &lt;Component {...pageProps} /&gt;
        &lt;/Show&gt;
        &lt;Toaster /&gt;
      &lt;/main&gt;
    &lt;/SessionProvider&gt;
  );
};

export default api.withTRPC(App);
</code></pre>
<p><strong>Features integrated:</strong></p>
<ul>
<li><strong>SessionProvider</strong>: NextAuth session context</li>
<li><strong>DefaultSeo</strong>: SEO configuration</li>
<li><strong>NextNProgress</strong>: Page loading indicator</li>
<li><strong>Show</strong>: Page transition animations</li>
<li><strong>Toaster</strong>: Toast notifications (Sonner)</li>
<li><strong>api.withTRPC</strong>: tRPC client wrapper</li>
</ul>
<h3 id="document-structure"><a class="header" href="#document-structure">Document Structure</a></h3>
<pre><code class="language-typescript">// src/pages/_document.tsx
// Custom document for HTML structure and font loading
</code></pre>
<h2 id="page-examples"><a class="header" href="#page-examples">Page Examples</a></h2>
<h3 id="dynamic-routes"><a class="header" href="#dynamic-routes">Dynamic Routes</a></h3>
<pre><code class="language-typescript">// src/pages/app/[url].tsx
import { type GetServerSideProps } from "next";
import { getServerAuthSession } from "@/lib/auth";

export default function HackathonPage() {
  const router = useRouter();
  const hackathonUrl = router.query.url as string;
  
  const { data: hackathon, isLoading } = api.hackathon.getByUrl.useQuery({
    url: hackathonUrl,
  });

  if (isLoading) return &lt;Loading /&gt;;
  if (!hackathon) return &lt;NotFound /&gt;;

  return &lt;HackathonDetails hackathon={hackathon} /&gt;;
}

export const getServerSideProps: GetServerSideProps = async (ctx) =&gt; {
  const session = await getServerAuthSession(ctx);
  
  return {
    props: {
      session,
    },
  };
};
</code></pre>
<h3 id="api-route-handler"><a class="header" href="#api-route-handler">API Route Handler</a></h3>
<pre><code class="language-typescript">// src/pages/api/trpc/[trpc].ts
import { createNextApiHandler } from "@trpc/server/adapters/next";
import { appRouter } from "@/trpc/root";
import { createTRPCContext } from "@/trpc";

export default createNextApiHandler({
  router: appRouter,
  createContext: createTRPCContext,
  onError: env.NODE_ENV === "development"
    ? ({ path, error }) =&gt; {
        console.error(`❌ tRPC failed on ${path}: ${error.message}`);
      }
    : undefined,
});
</code></pre>
<h2 id="features--integrations"><a class="header" href="#features--integrations">Features &amp; Integrations</a></h2>
<h3 id="server-side-rendering-ssr"><a class="header" href="#server-side-rendering-ssr">Server-Side Rendering (SSR)</a></h3>
<pre><code class="language-typescript">// For pages that need server-side data
export const getServerSideProps: GetServerSideProps = async (ctx) =&gt; {
  const session = await getServerAuthSession(ctx);
  
  // Pre-fetch data on server
  const helpers = createServerSideHelpers({
    router: appRouter,
    ctx: { session, prisma },
    transformer: superjson,
  });

  await helpers.hackathon.getByUrl.prefetch({ url: ctx.params?.url as string });

  return {
    props: {
      trpcState: helpers.dehydrate(),
      session,
    },
  };
};
</code></pre>
<h3 id="image-optimization"><a class="header" href="#image-optimization">Image Optimization</a></h3>
<pre><code class="language-typescript">// GitHub avatar optimization
&lt;Image
  src={user.image}
  alt={user.name}
  width={40}
  height={40}
  className="rounded-full"
/&gt;
</code></pre>
<h3 id="seo-configuration"><a class="header" href="#seo-configuration">SEO Configuration</a></h3>
<pre><code class="language-typescript">// next-seo.config.ts
export const nextSeoConfig: DefaultSeoProps = {
  title: "Hackcontrol",
  description: "Open-source hackathon management system",
  openGraph: {
    type: "website",
    locale: "en_US",
    url: "https://hackcontrol.vercel.app/",
    siteName: "Hackcontrol",
  },
};
</code></pre>
<h2 id="performance-features"><a class="header" href="#performance-features">Performance Features</a></h2>
<h3 id="automatic-code-splitting"><a class="header" href="#automatic-code-splitting">Automatic Code Splitting</a></h3>
<ul>
<li>Each page is automatically split into separate bundles</li>
<li>Reduces initial bundle size</li>
<li>Improves load times</li>
</ul>
<h3 id="static-optimization"><a class="header" href="#static-optimization">Static Optimization</a></h3>
<ul>
<li>Static pages are pre-rendered at build time</li>
<li>Dynamic pages use SSR when needed</li>
<li>Optimal performance for different content types</li>
</ul>
<h3 id="image-optimization-1"><a class="header" href="#image-optimization-1">Image Optimization</a></h3>
<ul>
<li>Automatic image optimization and resizing</li>
<li>WebP format support</li>
<li>Lazy loading by default</li>
</ul>
<h2 id="development-features"><a class="header" href="#development-features">Development Features</a></h2>
<h3 id="hot-reloading"><a class="header" href="#hot-reloading">Hot Reloading</a></h3>
<ul>
<li>Instant feedback during development</li>
<li>Preserves component state when possible</li>
<li>Fast refresh for React components</li>
</ul>
<h3 id="error-overlay"><a class="header" href="#error-overlay">Error Overlay</a></h3>
<ul>
<li>Detailed error information in development</li>
<li>Source map support for debugging</li>
<li>Stack trace with exact file locations</li>
</ul>
<h3 id="typescript-integration-1"><a class="header" href="#typescript-integration-1">TypeScript Integration</a></h3>
<ul>
<li>Zero-config TypeScript support</li>
<li>Fast compilation with SWC</li>
<li>Built-in type checking</li>
</ul>
<h2 id="build-process"><a class="header" href="#build-process">Build Process</a></h2>
<h3 id="development-build"><a class="header" href="#development-build">Development Build</a></h3>
<pre><code class="language-bash">npm run dev
</code></pre>
<ul>
<li>Fast refresh enabled</li>
<li>Source maps for debugging</li>
<li>Detailed error reporting</li>
</ul>
<h3 id="production-build"><a class="header" href="#production-build">Production Build</a></h3>
<pre><code class="language-bash">npm run build
npm run start
</code></pre>
<ul>
<li>Optimized bundles</li>
<li>Static asset optimization</li>
<li>Performance optimizations</li>
</ul>
<h2 id="environment-handling"><a class="header" href="#environment-handling">Environment Handling</a></h2>
<h3 id="environment-variables"><a class="header" href="#environment-variables">Environment Variables</a></h3>
<pre><code class="language-typescript">// Automatic environment validation
!process.env.SKIP_ENV_VALIDATION &amp;&amp; (await import("./src/env/index.mjs"));
</code></pre>
<h3 id="runtime-configuration"><a class="header" href="#runtime-configuration">Runtime Configuration</a></h3>
<ul>
<li>Client vs server environment separation</li>
<li>Secure environment variable access</li>
<li>Build-time validation</li>
</ul>
<h2 id="deployment"><a class="header" href="#deployment">Deployment</a></h2>
<h3 id="vercel-integration"><a class="header" href="#vercel-integration">Vercel Integration</a></h3>
<pre><code class="language-json">// vercel.json
{
  "functions": {
    "src/pages/api/**/*.ts": {
      "maxDuration": 30
    }
  }
}
</code></pre>
<h3 id="static-assets"><a class="header" href="#static-assets">Static Assets</a></h3>
<ul>
<li>Automatic optimization</li>
<li>CDN distribution</li>
<li>Caching headers</li>
</ul>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="page-organization"><a class="header" href="#page-organization">Page Organization</a></h3>
<ul>
<li>Group related pages in directories</li>
<li>Use meaningful file names</li>
<li>Implement proper error boundaries</li>
</ul>
<h3 id="performance"><a class="header" href="#performance">Performance</a></h3>
<ul>
<li>Minimize client-side JavaScript</li>
<li>Use dynamic imports for large components</li>
<li>Optimize images and assets</li>
</ul>
<h3 id="seo"><a class="header" href="#seo">SEO</a></h3>
<ul>
<li>Implement proper meta tags</li>
<li>Use semantic HTML structure</li>
<li>Optimize for Core Web Vitals</li>
</ul>
<h2 id="routing-patterns"><a class="header" href="#routing-patterns">Routing Patterns</a></h2>
<h3 id="dynamic-routes-1"><a class="header" href="#dynamic-routes-1">Dynamic Routes</a></h3>
<pre><code class="language-typescript">// [url].tsx - Single dynamic segment
// [...slug].tsx - Catch-all routes
// [[...slug]].tsx - Optional catch-all
</code></pre>
<h3 id="programmatic-navigation"><a class="header" href="#programmatic-navigation">Programmatic Navigation</a></h3>
<pre><code class="language-typescript">import { useRouter } from "next/router";

const router = useRouter();

// Navigate to different pages
router.push("/app");
router.push(`/app/${hackathon.url}`);
router.replace("/auth"); // Replace instead of push
</code></pre>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<ul>
<li>Learn about <a href="typescript.html">TypeScript Configuration</a></li>
<li>Explore <a href="tailwind.html">Tailwind CSS Integration</a></li>
<li>Understand <a href="../development/workflow.html">Development Workflow</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../architecture/project-structure.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../technologies/trpc.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../architecture/project-structure.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../technologies/trpc.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
